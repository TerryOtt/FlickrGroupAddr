<!DOCTYPE html>

<html>
    <head>
        <title>Store Client Session ID</title>

        <meta charset="utf-8">
    </head>

    <body>
        <script>
            function findGetParameter(parameterName) {
                var result = null,
                    tmp = [];
                location.search
                    .substr(1)
                    .split("&")
                    .forEach(function (item) {
                        tmp = item.split("=");
                        if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
                    });
                return result;
            }

            // Get the session ID parameter to the script
            const client_session_id = findGetParameter( 'client_session_id' );

            // Store as a cookie
            document.cookie = "client_session_id=" + client_session_id;

            // Redirect to root page
            window.location.replace( '/' );
        </script>

    </body>
</html>
